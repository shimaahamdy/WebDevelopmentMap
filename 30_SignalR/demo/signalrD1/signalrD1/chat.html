<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="Scripts/jquery-1.6.4.js"></script>
    <script src="Scripts/jquery.signalR-2.4.3.js"></script>
    <script>
        $(function () {
            name = prompt("enter your name");
               //define connection
        var conn=    $.hubConnection()

                //create proxy
             prox = conn.createHubProxy("chat");//using hub class name

                //start connection
            conn.start();
          //  alert("start connection")
            //define subscribe fun
            prox.on("newmessage", function (n, m) {
               // alert("new message from server")
                $("ul").append("<li>" + n + ":" + m + "</li>");
            })
        })
        function send() {

           // alert("call server to send message");
            //send
            prox.invoke("sendMessage", name, $("#txt").val())
        }
    </script>
</head>


<body>
    <input type="text" id="txt" onchange="send()" />
    <input type="button" value="send"/>

    <ul>

    </ul>
</body>
</html>